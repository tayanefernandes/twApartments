<div class="content-list">
    <h2>MAINTENANCE REQUESTS</h2>

    <div class="filter">
      <select ng-model="filterByApartment">
          <option value="all" selected>All</option>
          <option ng-repeat="apartment in apartments" value="{{apartment._id}}">{{apartment.name}} : {{apartment.address}} </option>
      </select>
    </div>

    <h3>TO DO</h3>
    <ul class="maintenance-list">
      <li ng-repeat="maintenance in maintenanceList | filter:toDoFilter | filter:filterMaintenance">
        <div class="td-address" ng-class="{'urgent':maintenance.isUrgent}">
          {{ maintenance._apartment.address }}
        </div>
        <div class="td-description">
          {{ maintenance.issueDescription }}
        </div>
        <div class="td-comments">
          {{ maintenance.comments.length }}
          <i class="fa fa-comments"></i>
        </div>
        <div class="td-actions">
          <a href="admin/maintenance/edit/{{maintenance._id}}">
            <i class="fa fa-pencil"></i>
          </a>
          <a ng-click="deleteMaintenanceRequest(maintenance._id)">
            <i class="fa fa-trash"></i>
          </a>
        </div>
      </li>
    </ul>

    <h3>DOING</h3>
    <ul class="maintenance-list">
      <li ng-repeat="maintenance in maintenanceList | filter:doingFilter | filter:filterMaintenance">
        <div class="td-address" ng-class="{'urgent':maintenance.isUrgent}">
          {{ maintenance._apartment.address }}
        </div>
        <div class="td-description">
          {{ maintenance.issueDescription }}
        </div>
        <div class="td-comments">
          {{ maintenance.comments.length }}
          <i class="fa fa-comments"></i>
        </div>
        <div class="td-actions">
          <a href="admin/maintenance/edit/{{maintenance._id}}">
            <i class="fa fa-pencil"></i>
          </a>
          <a ng-click="deleteMaintenanceRequest(maintenance._id)">
            <i class="fa fa-trash"></i>
          </a>
        </div>
      </li>
    </ul>

    <h3>DONE</h3>
    <ul class="maintenance-list">
      <li ng-repeat="maintenance in maintenanceList | filter:doneFilter | filter:filterMaintenance">
        <div class="td-address" ng-class="{'urgent':maintenance.isUrgent}">
          {{ maintenance._apartment.address }}
        </div>
        <div class="td-description">
          {{ maintenance.issueDescription }}
        </div>
        <div class="td-comments">
          {{ maintenance.comments.length }}
          <i class="fa fa-comments"></i>
        </div>
        <div class="td-actions">
          <a href="admin/maintenance/edit/{{maintenance._id}}">
            <i class="fa fa-pencil"></i>
          </a>
          <a ng-click="deleteMaintenanceRequest(maintenance._id)">
            <i class="fa fa-trash"></i>
          </a>
        </div>
      </li>
    </ul>
</div>